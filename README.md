# MathLogic7Task

\subsection*{Задача 7. Написать программу, проверяющую доказательство в формальной арифметике на корректность.}
{\it Стоимость: 12 баллов, решение на Ocaml или Haskell: 15 баллов }\vspace{2mm}\\

Грамматика формул формальной арифметики. Обратите внимание, данная 
грамматика сделана в предположении, что кванторы --- унарные операции,
и распространяются они только на одно <<унарное>> выражение справа.
Это отличается от стиля грамматики, который был у нас на лекциях.
\begin{bnf}\begin{eqnarray*}
\ntm{Файл} &::=& \ntm{заголовок} \lit{\textbackslash{}n} \ntm{доказательство}\\
\ntm{заголовок} &::=& [\{\ntm{выражение}\lit{,}\}^* \ntm{выражение}] \lit{|-} \ntm{выражение}\\
\ntm{доказательство} &::=& \{\ntm{выражение}\lit{\textbackslash{}n}\}^*\\
\ntm{выражение} &::=& \ntm{дизъюнкция} | \ntm{дизъюнкция} \lit{->} \ntm{выражение}\\
\ntm{дизъюнкция} &::=& \ntm{конъюнкция} | \ntm{дизъюнкция} \lit{|} \ntm{конъюнкция}\\
\ntm{конъюнкция} &::=& \ntm{унарное} | \ntm{конъюнкция} \lit{\&} \ntm{унарное}\\
\ntm{унарное} &::=& \ntm{предикат} | \lit{!} \ntm{унарное} | \lit{(} \ntm{выражение} \lit{)}\\
               &|& (\lit{@}|\lit{?}) \ntm{переменная} \ntm{унарное}\\
\ntm{переменная} &::=& (\lit{a} \dots \lit{z}) \{\lit{0}\dots\lit{9}\}^*\\
\ntm{предикат} &::=& (\lit{A} \dots \lit{Z}) \{\lit{0}\dots\lit{9}\}^* [ \lit{(} {\ntm{терм} \{ \lit{,} \ntm{терм} \}^*} \lit{)} ]\\
             &|& \ntm{терм} \lit{=} \ntm{терм}\\
\ntm{терм}   &::=& \ntm{слагаемое} | \ntm{терм} \lit{+} \ntm{слагаемое}\\
\ntm{слагаемое} &::=& \ntm{умножаемое} | \ntm{слагаемое} \lit{*} \ntm{умножаемое}\\
\ntm{умножаемое} &::=& (\lit{a} \dots \lit{z}) \{\lit{0}\dots\lit{9}\}^*  \lit{(} {\ntm{терм} \{ \lit{,} \ntm{терм} \}^*} \lit{)} \\
             &|& \ntm{переменная} | \lit{(} \ntm{терм} \lit{)}\\
             &|& \lit{0} | \ntm{умножаемое} \lit{'}
\end{eqnarray*}\end{bnf}%

Выходной файл --- либо фраза 
\begin{verbatim}Доказательство корректно.\end{verbatim}
либо указание об ошибке --- текст вида: 
\begin{verbatim}
Вывод некорректен начиная с формулы номер <№>[: <ошибка>]
\end{verbatim}
где вместо \texttt{<№>} подставлен номер первой некорректной формулы. Необязательное поле
\texttt{<ошибка>} должно появляться, если формула не является аксиомой или допущением,
не может быть выведена из предыдущих, но являлась бы (или могла бы быть выведена), 
если бы не нарушение ограничений на переменные. Возможные варианты ошибок:
\begin{verbatim}
терм <X> не свободен для подстановки в формулу <Y> вместо переменной <a>.

переменная <a> входит свободно в формулу <X>.

используется <правило|схема аксиом> с квантором по переменной <a>, 
входящей свободно в допущение <X>.
\end{verbatim}
